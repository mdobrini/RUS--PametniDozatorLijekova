<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RUS--PametniDozatorLjekova: sketch.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RUS--PametniDozatorLjekova
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sketch_8ino.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sketch.ino File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Smart Medicine Scheduler and Dispenser.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Wire.h&gt;</code><br />
<code>#include &lt;LiquidCrystal_I2C.h&gt;</code><br />
<code>#include &lt;Servo.h&gt;</code><br />
<code>#include &lt;RTClib.h&gt;</code><br />
<code>#include &lt;Keypad.h&gt;</code><br />
<code>#include &lt;EEPROM.h&gt;</code><br />
<code>#include &lt;avr/sleep.h&gt;</code><br />
<code>#include &lt;avr/power.h&gt;</code><br />
<code>#include &lt;avr/wdt.h&gt;</code><br />
<code>#include &lt;avr/interrupt.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMedication.html">Medication</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structMedication.html" title="Medication Schedule Structure.">Medication</a> Schedule Structure.  <a href="structMedication.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaf2a829c86f135f09157709ae25b801d" id="r_aaf2a829c86f135f09157709ae25b801d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aaf2a829c86f135f09157709ae25b801d">MAX_MEDICATIONS</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:aaf2a829c86f135f09157709ae25b801d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of medications that can be scheduled.  <br /></td></tr>
<tr class="separator:aaf2a829c86f135f09157709ae25b801d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bece8cf2c7eee6e352c09eb7750250" id="r_a13bece8cf2c7eee6e352c09eb7750250"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a13bece8cf2c7eee6e352c09eb7750250">TOP_SERVO_PIN</a>&#160;&#160;&#160;9</td></tr>
<tr class="memdesc:a13bece8cf2c7eee6e352c09eb7750250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin for top servo.  <br /></td></tr>
<tr class="separator:a13bece8cf2c7eee6e352c09eb7750250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39561c0ab7123f9a3b870f762cdea7af" id="r_a39561c0ab7123f9a3b870f762cdea7af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a39561c0ab7123f9a3b870f762cdea7af">BOTTOM_SERVO_PIN</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:a39561c0ab7123f9a3b870f762cdea7af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin for bottom servo.  <br /></td></tr>
<tr class="separator:a39561c0ab7123f9a3b870f762cdea7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4ed3a2990d9d6265b2bde45a04e0175" id="r_ae4ed3a2990d9d6265b2bde45a04e0175"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ae4ed3a2990d9d6265b2bde45a04e0175">SERVO_CLOSED_POS</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ae4ed3a2990d9d6265b2bde45a04e0175"><td class="mdescLeft">&#160;</td><td class="mdescRight">Servo position for closed gate (no container passage)  <br /></td></tr>
<tr class="separator:ae4ed3a2990d9d6265b2bde45a04e0175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af052c5ba084bce9e6c97df84a3040e52" id="r_af052c5ba084bce9e6c97df84a3040e52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#af052c5ba084bce9e6c97df84a3040e52">SERVO_OPEN_POS</a>&#160;&#160;&#160;90</td></tr>
<tr class="memdesc:af052c5ba084bce9e6c97df84a3040e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Servo position for open gate (container passage allowed)  <br /></td></tr>
<tr class="separator:af052c5ba084bce9e6c97df84a3040e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad6e4e750de5c232d2ebb66efc906fa5" id="r_aad6e4e750de5c232d2ebb66efc906fa5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aad6e4e750de5c232d2ebb66efc906fa5">DISPENSE_DELAY</a>&#160;&#160;&#160;1000</td></tr>
<tr class="memdesc:aad6e4e750de5c232d2ebb66efc906fa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay between servo operations in milliseconds.  <br /></td></tr>
<tr class="separator:aad6e4e750de5c232d2ebb66efc906fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61d0981ed42df9e18211b273d22cfcd" id="r_ab61d0981ed42df9e18211b273d22cfcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ab61d0981ed42df9e18211b273d22cfcd">BUZZER_PIN</a>&#160;&#160;&#160;11</td></tr>
<tr class="memdesc:ab61d0981ed42df9e18211b273d22cfcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buzzer Configuration.  <br /></td></tr>
<tr class="separator:ab61d0981ed42df9e18211b273d22cfcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53157b0c521fcb6114549b588626560d" id="r_a53157b0c521fcb6114549b588626560d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a53157b0c521fcb6114549b588626560d">BUZZER_FREQ</a>&#160;&#160;&#160;2000</td></tr>
<tr class="memdesc:a53157b0c521fcb6114549b588626560d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buzzer tone frequency in Hz.  <br /></td></tr>
<tr class="separator:a53157b0c521fcb6114549b588626560d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c40720dc6d2c93452719238c4bd8723" id="r_a1c40720dc6d2c93452719238c4bd8723"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a1c40720dc6d2c93452719238c4bd8723">BUZZER_DURATION</a>&#160;&#160;&#160;200</td></tr>
<tr class="memdesc:a1c40720dc6d2c93452719238c4bd8723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buzzer sound duration in ms.  <br /></td></tr>
<tr class="separator:a1c40720dc6d2c93452719238c4bd8723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a530a52232d3299579224b324748f0ae0" id="r_a530a52232d3299579224b324748f0ae0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a530a52232d3299579224b324748f0ae0">BUZZER_DISPENSE_BEEPS</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a530a52232d3299579224b324748f0ae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of beeps to sound when dispensing.  <br /></td></tr>
<tr class="separator:a530a52232d3299579224b324748f0ae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7cbb76e05833efeec05342eb9da05b6" id="r_ac7cbb76e05833efeec05342eb9da05b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ac7cbb76e05833efeec05342eb9da05b6">WAKE_LED_PIN</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:ac7cbb76e05833efeec05342eb9da05b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">LED Indicator Configuration.  <br /></td></tr>
<tr class="separator:ac7cbb76e05833efeec05342eb9da05b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596bb04216d81eba96916f6a64dcfdab" id="r_a596bb04216d81eba96916f6a64dcfdab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a596bb04216d81eba96916f6a64dcfdab">LED_BLINK_DURATION</a>&#160;&#160;&#160;200</td></tr>
<tr class="memdesc:a596bb04216d81eba96916f6a64dcfdab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blink duration in milliseconds.  <br /></td></tr>
<tr class="separator:a596bb04216d81eba96916f6a64dcfdab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572c452393b39c559c0eb34ce7166034" id="r_a572c452393b39c559c0eb34ce7166034"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a572c452393b39c559c0eb34ce7166034">BUTTON_WAKE_BLINKS</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a572c452393b39c559c0eb34ce7166034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of blinks for button wake.  <br /></td></tr>
<tr class="separator:a572c452393b39c559c0eb34ce7166034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f569dc2e07501e71b27c03221751eb" id="r_ac2f569dc2e07501e71b27c03221751eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ac2f569dc2e07501e71b27c03221751eb">WATCHDOG_WAKE_BLINKS</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ac2f569dc2e07501e71b27c03221751eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of blinks for watchdog wake.  <br /></td></tr>
<tr class="separator:ac2f569dc2e07501e71b27c03221751eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b24770646e6bf8db0332b3f5fbf728" id="r_a78b24770646e6bf8db0332b3f5fbf728"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a78b24770646e6bf8db0332b3f5fbf728">WAKE_BUTTON_PIN</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a78b24770646e6bf8db0332b3f5fbf728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake Button Configuration.  <br /></td></tr>
<tr class="separator:a78b24770646e6bf8db0332b3f5fbf728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047d279cfdae373f08778d8c9b018ba3" id="r_a047d279cfdae373f08778d8c9b018ba3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a047d279cfdae373f08778d8c9b018ba3">SLEEP_TIMEOUT</a>&#160;&#160;&#160;10000</td></tr>
<tr class="memdesc:a047d279cfdae373f08778d8c9b018ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep Mode Configuration.  <br /></td></tr>
<tr class="separator:a047d279cfdae373f08778d8c9b018ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8989ed3da2816a2468350e19b490889a" id="r_a8989ed3da2816a2468350e19b490889a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a8989ed3da2816a2468350e19b490889a">DISPLAY_MODES</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:a8989ed3da2816a2468350e19b490889a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of available display modes.  <br /></td></tr>
<tr class="separator:a8989ed3da2816a2468350e19b490889a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00aef9e8dd001a49f8717031d84b2c6c" id="r_a00aef9e8dd001a49f8717031d84b2c6c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a00aef9e8dd001a49f8717031d84b2c6c">DEBOUNCE_TIME</a>&#160;&#160;&#160;200</td></tr>
<tr class="memdesc:a00aef9e8dd001a49f8717031d84b2c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Button debounce time in milliseconds.  <br /></td></tr>
<tr class="separator:a00aef9e8dd001a49f8717031d84b2c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0ad39cc5436a5f75a4763bcfd12284" id="r_a9a0ad39cc5436a5f75a4763bcfd12284"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a9a0ad39cc5436a5f75a4763bcfd12284">CHECK_INTERVAL</a>&#160;&#160;&#160;1000</td></tr>
<tr class="memdesc:a9a0ad39cc5436a5f75a4763bcfd12284"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interval between schedule checks in milliseconds.  <br /></td></tr>
<tr class="separator:a9a0ad39cc5436a5f75a4763bcfd12284"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae084e1bc8ccb35ea289ba0ca4972ea6d" id="r_ae084e1bc8ccb35ea289ba0ca4972ea6d"><td class="memItemLeft" align="right" valign="top">LiquidCrystal_I2C&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ae084e1bc8ccb35ea289ba0ca4972ea6d">lcd</a> (0x27, 16, 2)</td></tr>
<tr class="memdesc:ae084e1bc8ccb35ea289ba0ca4972ea6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">LCD Display Configuration (I2C)  <br /></td></tr>
<tr class="separator:ae084e1bc8ccb35ea289ba0ca4972ea6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09f82a6053eb3c6e63abcbe76bc5190" id="r_af09f82a6053eb3c6e63abcbe76bc5190"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#af09f82a6053eb3c6e63abcbe76bc5190">setupMedications</a> ()</td></tr>
<tr class="memdesc:af09f82a6053eb3c6e63abcbe76bc5190"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup medication schedules.  <br /></td></tr>
<tr class="separator:af09f82a6053eb3c6e63abcbe76bc5190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f66e1125ec703c9ba555848c8df1878" id="r_a7f66e1125ec703c9ba555848c8df1878"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a7f66e1125ec703c9ba555848c8df1878">saveMedications</a> ()</td></tr>
<tr class="memdesc:a7f66e1125ec703c9ba555848c8df1878"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save medication schedules to EEPROM.  <br /></td></tr>
<tr class="separator:a7f66e1125ec703c9ba555848c8df1878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5be68bf7a222e76242b8e56592187cc" id="r_ab5be68bf7a222e76242b8e56592187cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ab5be68bf7a222e76242b8e56592187cc">loadMedications</a> ()</td></tr>
<tr class="memdesc:ab5be68bf7a222e76242b8e56592187cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load medication schedules from EEPROM.  <br /></td></tr>
<tr class="separator:ab5be68bf7a222e76242b8e56592187cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3250bd89a060f536916deda35d86b1" id="r_abc3250bd89a060f536916deda35d86b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#abc3250bd89a060f536916deda35d86b1">displayTime</a> (bool forceUpdate)</td></tr>
<tr class="memdesc:abc3250bd89a060f536916deda35d86b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display current time on LCD.  <br /></td></tr>
<tr class="separator:abc3250bd89a060f536916deda35d86b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c2926dd9b0968badf463aaf4f91422" id="r_a59c2926dd9b0968badf463aaf4f91422"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a59c2926dd9b0968badf463aaf4f91422">displayMenu</a> ()</td></tr>
<tr class="separator:a59c2926dd9b0968badf463aaf4f91422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790c1f21864490f1a42fe5cd690e6766" id="r_a790c1f21864490f1a42fe5cd690e6766"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a790c1f21864490f1a42fe5cd690e6766">setMedicationTime</a> (int index)</td></tr>
<tr class="memdesc:a790c1f21864490f1a42fe5cd690e6766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the time for a specific medication.  <br /></td></tr>
<tr class="separator:a790c1f21864490f1a42fe5cd690e6766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d0b09dcfee9c8feba9e67249798f16f" id="r_a6d0b09dcfee9c8feba9e67249798f16f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a6d0b09dcfee9c8feba9e67249798f16f">checkSchedule</a> ()</td></tr>
<tr class="memdesc:a6d0b09dcfee9c8feba9e67249798f16f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any scheduled medications need to be dispensed.  <br /></td></tr>
<tr class="separator:a6d0b09dcfee9c8feba9e67249798f16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a0be9f4469be92fd42493288a153f0" id="r_af2a0be9f4469be92fd42493288a153f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#af2a0be9f4469be92fd42493288a153f0">dispense</a> ()</td></tr>
<tr class="memdesc:af2a0be9f4469be92fd42493288a153f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operate the dispenser mechanism.  <br /></td></tr>
<tr class="separator:af2a0be9f4469be92fd42493288a153f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9118fcc53fc3a9ba93842858201533a" id="r_aa9118fcc53fc3a9ba93842858201533a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aa9118fcc53fc3a9ba93842858201533a">enterSleepMode</a> ()</td></tr>
<tr class="memdesc:aa9118fcc53fc3a9ba93842858201533a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter low power sleep mode.  <br /></td></tr>
<tr class="separator:aa9118fcc53fc3a9ba93842858201533a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476ccd62c199f330f95bce19c498e3e9" id="r_a476ccd62c199f330f95bce19c498e3e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a476ccd62c199f330f95bce19c498e3e9">setupWatchdog</a> ()</td></tr>
<tr class="memdesc:a476ccd62c199f330f95bce19c498e3e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup watchdog timer for periodic wakeup.  <br /></td></tr>
<tr class="separator:a476ccd62c199f330f95bce19c498e3e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5468042fa0f5a7bdc31e736d61c65ebb" id="r_a5468042fa0f5a7bdc31e736d61c65ebb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a5468042fa0f5a7bdc31e736d61c65ebb">checkMedicationDue</a> ()</td></tr>
<tr class="memdesc:a5468042fa0f5a7bdc31e736d61c65ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any medication is due right now.  <br /></td></tr>
<tr class="separator:a5468042fa0f5a7bdc31e736d61c65ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba449d7b59593570a446bbc9f303037" id="r_a5ba449d7b59593570a446bbc9f303037"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a5ba449d7b59593570a446bbc9f303037">blinkLED</a> (int count)</td></tr>
<tr class="memdesc:a5ba449d7b59593570a446bbc9f303037"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blink the wake indicator LED.  <br /></td></tr>
<tr class="separator:a5ba449d7b59593570a446bbc9f303037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420c0a6e747ea4506e55a4a3e63c71f9" id="r_a420c0a6e747ea4506e55a4a3e63c71f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a420c0a6e747ea4506e55a4a3e63c71f9">getTimeToNextMedication</a> (DateTime now, int &amp;hoursToNext, int &amp;minutesToNext)</td></tr>
<tr class="memdesc:a420c0a6e747ea4506e55a4a3e63c71f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get time remaining until next scheduled medication.  <br /></td></tr>
<tr class="separator:a420c0a6e747ea4506e55a4a3e63c71f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f9c429988be7982fe773a4470061da" id="r_a65f9c429988be7982fe773a4470061da"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a65f9c429988be7982fe773a4470061da">sleep_is_active</a> ()</td></tr>
<tr class="memdesc:a65f9c429988be7982fe773a4470061da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the system is currently in sleep mode.  <br /></td></tr>
<tr class="separator:a65f9c429988be7982fe773a4470061da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea150fcd685610cb9f7672fce361e53" id="r_afea150fcd685610cb9f7672fce361e53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#afea150fcd685610cb9f7672fce361e53">ISR</a> (INT0_vect)</td></tr>
<tr class="memdesc:afea150fcd685610cb9f7672fce361e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Service Routine for external interrupt (button)  <br /></td></tr>
<tr class="separator:afea150fcd685610cb9f7672fce361e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43905d6fb5c4d433a49f527fa6ab811f" id="r_a43905d6fb5c4d433a49f527fa6ab811f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a43905d6fb5c4d433a49f527fa6ab811f">ISR</a> (WDT_vect)</td></tr>
<tr class="memdesc:a43905d6fb5c4d433a49f527fa6ab811f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Service Routine for Watchdog Timer.  <br /></td></tr>
<tr class="separator:a43905d6fb5c4d433a49f527fa6ab811f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d" id="r_a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup function runs once at startup.  <br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f" id="r_afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main program loop.  <br /></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac6f63a7fa9017a6b9b68a09a53b4288" id="r_aac6f63a7fa9017a6b9b68a09a53b4288"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aac6f63a7fa9017a6b9b68a09a53b4288">beep</a> (int count)</td></tr>
<tr class="memdesc:aac6f63a7fa9017a6b9b68a09a53b4288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a series of beeps using the buzzer.  <br /></td></tr>
<tr class="separator:aac6f63a7fa9017a6b9b68a09a53b4288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d17381f5c6512cc9d37f325987a314" id="r_a25d17381f5c6512cc9d37f325987a314"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a25d17381f5c6512cc9d37f325987a314">displayAllMedications</a> ()</td></tr>
<tr class="memdesc:a25d17381f5c6512cc9d37f325987a314"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display all active medication schedules.  <br /></td></tr>
<tr class="separator:a25d17381f5c6512cc9d37f325987a314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae1ab64d3f5458ff89a10e1a2db0018" id="r_afae1ab64d3f5458ff89a10e1a2db0018"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#afae1ab64d3f5458ff89a10e1a2db0018">resetDailyDispensedFlags</a> ()</td></tr>
<tr class="memdesc:afae1ab64d3f5458ff89a10e1a2db0018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all dispensed flags.  <br /></td></tr>
<tr class="separator:afae1ab64d3f5458ff89a10e1a2db0018"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7715afc6e8732f6f936183f5c0d76167" id="r_a7715afc6e8732f6f936183f5c0d76167"><td class="memItemLeft" align="right" valign="top">RTC_DS1307&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a7715afc6e8732f6f936183f5c0d76167">rtc</a></td></tr>
<tr class="memdesc:a7715afc6e8732f6f936183f5c0d76167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Real Time Clock Configuration.  <br /></td></tr>
<tr class="separator:a7715afc6e8732f6f936183f5c0d76167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7362d00cefdb43f2ecec5acf10e0b7c3" id="r_a7362d00cefdb43f2ecec5acf10e0b7c3"><td class="memItemLeft" align="right" valign="top">Servo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a7362d00cefdb43f2ecec5acf10e0b7c3">topServo</a></td></tr>
<tr class="memdesc:a7362d00cefdb43f2ecec5acf10e0b7c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Servo Configuration.  <br /></td></tr>
<tr class="separator:a7362d00cefdb43f2ecec5acf10e0b7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a259f5c060b6f3be911cfeb663763aee5" id="r_a259f5c060b6f3be911cfeb663763aee5"><td class="memItemLeft" align="right" valign="top">Servo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a259f5c060b6f3be911cfeb663763aee5">bottomServo</a></td></tr>
<tr class="memdesc:a259f5c060b6f3be911cfeb663763aee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bottom servo controls exit of medicine container from holding area.  <br /></td></tr>
<tr class="separator:a259f5c060b6f3be911cfeb663763aee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829655a147df70dd4cc94eae40a2204e" id="r_a829655a147df70dd4cc94eae40a2204e"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a> = 4</td></tr>
<tr class="memdesc:a829655a147df70dd4cc94eae40a2204e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keypad Configuration.  <br /></td></tr>
<tr class="separator:a829655a147df70dd4cc94eae40a2204e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd90f1160eaa105bc910d4d7c46b815" id="r_aefd90f1160eaa105bc910d4d7c46b815"><td class="memItemLeft" align="right" valign="top">const byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a> = 4</td></tr>
<tr class="memdesc:aefd90f1160eaa105bc910d4d7c46b815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of columns in keypad matrix.  <br /></td></tr>
<tr class="separator:aefd90f1160eaa105bc910d4d7c46b815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a856e873a1d14012d57ddb813c4a1e40a" id="r_a856e873a1d14012d57ddb813c4a1e40a"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a856e873a1d14012d57ddb813c4a1e40a">keys</a> [<a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a>][<a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a>]</td></tr>
<tr class="memdesc:a856e873a1d14012d57ddb813c4a1e40a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Key mapping for 4x4 matrix.  <br /></td></tr>
<tr class="separator:a856e873a1d14012d57ddb813c4a1e40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6753e0ae098b31e2f84d4024e361cf" id="r_a6d6753e0ae098b31e2f84d4024e361cf"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a6d6753e0ae098b31e2f84d4024e361cf">rowPins</a> [<a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a>] = {5, 4, 3, 7}</td></tr>
<tr class="memdesc:a6d6753e0ae098b31e2f84d4024e361cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino pins connected to keypad rows.  <br /></td></tr>
<tr class="separator:a6d6753e0ae098b31e2f84d4024e361cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9fece7b062124080e4b2976f9a8b675" id="r_aa9fece7b062124080e4b2976f9a8b675"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aa9fece7b062124080e4b2976f9a8b675">colPins</a> [<a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a>] = {A0, A1, A2, A3}</td></tr>
<tr class="memdesc:aa9fece7b062124080e4b2976f9a8b675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arduino pins connected to keypad columns.  <br /></td></tr>
<tr class="separator:aa9fece7b062124080e4b2976f9a8b675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6c3cc7e8c762ab0ca1fa2296d7bbfe" id="r_a0e6c3cc7e8c762ab0ca1fa2296d7bbfe"><td class="memItemLeft" align="right" valign="top">Keypad&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a0e6c3cc7e8c762ab0ca1fa2296d7bbfe">keypad</a> = Keypad(makeKeymap(<a class="el" href="sketch_8ino.html#a856e873a1d14012d57ddb813c4a1e40a">keys</a>), <a class="el" href="sketch_8ino.html#a6d6753e0ae098b31e2f84d4024e361cf">rowPins</a>, <a class="el" href="sketch_8ino.html#aa9fece7b062124080e4b2976f9a8b675">colPins</a>, <a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a>, <a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a>)</td></tr>
<tr class="memdesc:a0e6c3cc7e8c762ab0ca1fa2296d7bbfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keypad object for handling input.  <br /></td></tr>
<tr class="separator:a0e6c3cc7e8c762ab0ca1fa2296d7bbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3b33d5d36aca00f5a0daa68d2a92fd" id="r_aaf3b33d5d36aca00f5a0daa68d2a92fd"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#aaf3b33d5d36aca00f5a0daa68d2a92fd">buttonWakeFlag</a> = false</td></tr>
<tr class="memdesc:aaf3b33d5d36aca00f5a0daa68d2a92fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate wake-up has occurred by button press.  <br /></td></tr>
<tr class="separator:aaf3b33d5d36aca00f5a0daa68d2a92fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ab3ec4be50a6b44ce907508d46b2b2" id="r_ab8ab3ec4be50a6b44ce907508d46b2b2"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ab8ab3ec4be50a6b44ce907508d46b2b2">watchdogWakeFlag</a> = false</td></tr>
<tr class="memdesc:ab8ab3ec4be50a6b44ce907508d46b2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate wake-up has occurred by watchdog timer.  <br /></td></tr>
<tr class="separator:ab8ab3ec4be50a6b44ce907508d46b2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd4f33aa8f7bc3bea04e90513fd6948" id="r_a7bd4f33aa8f7bc3bea04e90513fd6948"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a7bd4f33aa8f7bc3bea04e90513fd6948">inSleepMode</a> = false</td></tr>
<tr class="memdesc:a7bd4f33aa8f7bc3bea04e90513fd6948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to track if the system is in sleep mode.  <br /></td></tr>
<tr class="separator:a7bd4f33aa8f7bc3bea04e90513fd6948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3857f1cb2743e7097a2971b41bf4eb26" id="r_a3857f1cb2743e7097a2971b41bf4eb26"><td class="memItemLeft" align="right" valign="top">volatile byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a3857f1cb2743e7097a2971b41bf4eb26">displayMode</a> = 0</td></tr>
<tr class="memdesc:a3857f1cb2743e7097a2971b41bf4eb26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display mode (0 = setup instructions, 1 = time to next medication)  <br /></td></tr>
<tr class="separator:a3857f1cb2743e7097a2971b41bf4eb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f815b3b274421625dd771250aeb3b9" id="r_a92f815b3b274421625dd771250aeb3b9"><td class="memItemLeft" align="right" valign="top">volatile unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a92f815b3b274421625dd771250aeb3b9">lastButtonTime</a> = 0</td></tr>
<tr class="memdesc:a92f815b3b274421625dd771250aeb3b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the button was pressed.  <br /></td></tr>
<tr class="separator:a92f815b3b274421625dd771250aeb3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7de7c0f9829e2cf5b48d8dd2f47f73a" id="r_ac7de7c0f9829e2cf5b48d8dd2f47f73a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMedication.html">Medication</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#ac7de7c0f9829e2cf5b48d8dd2f47f73a">medications</a> [<a class="el" href="sketch_8ino.html#aaf2a829c86f135f09157709ae25b801d">MAX_MEDICATIONS</a>]</td></tr>
<tr class="memdesc:ac7de7c0f9829e2cf5b48d8dd2f47f73a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of medication schedules.  <br /></td></tr>
<tr class="separator:ac7de7c0f9829e2cf5b48d8dd2f47f73a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42689e07c5bc087458acc8b891eafad8" id="r_a42689e07c5bc087458acc8b891eafad8"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a42689e07c5bc087458acc8b891eafad8">lastActionTime</a> = 0</td></tr>
<tr class="memdesc:a42689e07c5bc087458acc8b891eafad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestamp of last user action for sleep mode determination.  <br /></td></tr>
<tr class="separator:a42689e07c5bc087458acc8b891eafad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af444ac13552bb50cfb7beebff8ae4f5a" id="r_af444ac13552bb50cfb7beebff8ae4f5a"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#af444ac13552bb50cfb7beebff8ae4f5a">lastCheckTime</a> = 0</td></tr>
<tr class="memdesc:af444ac13552bb50cfb7beebff8ae4f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timestamp of last schedule check.  <br /></td></tr>
<tr class="separator:af444ac13552bb50cfb7beebff8ae4f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa10bd2a5ad7c18d5cecf1ad04ef460" id="r_a8aa10bd2a5ad7c18d5cecf1ad04ef460"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sketch_8ino.html#a8aa10bd2a5ad7c18d5cecf1ad04ef460">inSetupMode</a> = false</td></tr>
<tr class="memdesc:a8aa10bd2a5ad7c18d5cecf1ad04ef460"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating whether the system is in setup mode.  <br /></td></tr>
<tr class="separator:a8aa10bd2a5ad7c18d5cecf1ad04ef460"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Smart Medicine Scheduler and Dispenser. </p>
<p>An Arduino-based system that schedules and dispenses medication from a vertical stack using two servo motors. The system allows setting up to 5 different medication times and displays information on a 16x2 LCD.</p>
<p>Features:</p><ul>
<li>Up to 5 scheduled medications</li>
<li>16x2 I2C LCD display interface</li>
<li>4x4 keypad input system</li>
<li>DS1307 RTC for accurate timekeeping</li>
<li>2 servo motors for vertical dispenser mechanism</li>
<li>Sleep mode for power efficiency</li>
<li>EEPROM storage for medication schedules</li>
<li>Buzzer for audio alerts</li>
<li>Wake button for manual awakening</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Mislav DobriniÄ‡ </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-04-14 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.6 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a39561c0ab7123f9a3b870f762cdea7af" name="a39561c0ab7123f9a3b870f762cdea7af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39561c0ab7123f9a3b870f762cdea7af">&#9670;&#160;</a></span>BOTTOM_SERVO_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOTTOM_SERVO_PIN&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin for bottom servo. </p>

</div>
</div>
<a id="a572c452393b39c559c0eb34ce7166034" name="a572c452393b39c559c0eb34ce7166034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a572c452393b39c559c0eb34ce7166034">&#9670;&#160;</a></span>BUTTON_WAKE_BLINKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUTTON_WAKE_BLINKS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of blinks for button wake. </p>

</div>
</div>
<a id="a530a52232d3299579224b324748f0ae0" name="a530a52232d3299579224b324748f0ae0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a530a52232d3299579224b324748f0ae0">&#9670;&#160;</a></span>BUZZER_DISPENSE_BEEPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUZZER_DISPENSE_BEEPS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of beeps to sound when dispensing. </p>

</div>
</div>
<a id="a1c40720dc6d2c93452719238c4bd8723" name="a1c40720dc6d2c93452719238c4bd8723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c40720dc6d2c93452719238c4bd8723">&#9670;&#160;</a></span>BUZZER_DURATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUZZER_DURATION&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buzzer sound duration in ms. </p>

</div>
</div>
<a id="a53157b0c521fcb6114549b588626560d" name="a53157b0c521fcb6114549b588626560d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53157b0c521fcb6114549b588626560d">&#9670;&#160;</a></span>BUZZER_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUZZER_FREQ&#160;&#160;&#160;2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buzzer tone frequency in Hz. </p>

</div>
</div>
<a id="ab61d0981ed42df9e18211b273d22cfcd" name="ab61d0981ed42df9e18211b273d22cfcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61d0981ed42df9e18211b273d22cfcd">&#9670;&#160;</a></span>BUZZER_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUZZER_PIN&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buzzer Configuration. </p>
<p>Pin for buzzer </p>

</div>
</div>
<a id="a9a0ad39cc5436a5f75a4763bcfd12284" name="a9a0ad39cc5436a5f75a4763bcfd12284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0ad39cc5436a5f75a4763bcfd12284">&#9670;&#160;</a></span>CHECK_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECK_INTERVAL&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interval between schedule checks in milliseconds. </p>

</div>
</div>
<a id="a00aef9e8dd001a49f8717031d84b2c6c" name="a00aef9e8dd001a49f8717031d84b2c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00aef9e8dd001a49f8717031d84b2c6c">&#9670;&#160;</a></span>DEBOUNCE_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBOUNCE_TIME&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Button debounce time in milliseconds. </p>

</div>
</div>
<a id="aad6e4e750de5c232d2ebb66efc906fa5" name="aad6e4e750de5c232d2ebb66efc906fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad6e4e750de5c232d2ebb66efc906fa5">&#9670;&#160;</a></span>DISPENSE_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISPENSE_DELAY&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay between servo operations in milliseconds. </p>

</div>
</div>
<a id="a8989ed3da2816a2468350e19b490889a" name="a8989ed3da2816a2468350e19b490889a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8989ed3da2816a2468350e19b490889a">&#9670;&#160;</a></span>DISPLAY_MODES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISPLAY_MODES&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of available display modes. </p>

</div>
</div>
<a id="a596bb04216d81eba96916f6a64dcfdab" name="a596bb04216d81eba96916f6a64dcfdab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596bb04216d81eba96916f6a64dcfdab">&#9670;&#160;</a></span>LED_BLINK_DURATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED_BLINK_DURATION&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blink duration in milliseconds. </p>

</div>
</div>
<a id="aaf2a829c86f135f09157709ae25b801d" name="aaf2a829c86f135f09157709ae25b801d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf2a829c86f135f09157709ae25b801d">&#9670;&#160;</a></span>MAX_MEDICATIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_MEDICATIONS&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum number of medications that can be scheduled. </p>

</div>
</div>
<a id="ae4ed3a2990d9d6265b2bde45a04e0175" name="ae4ed3a2990d9d6265b2bde45a04e0175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4ed3a2990d9d6265b2bde45a04e0175">&#9670;&#160;</a></span>SERVO_CLOSED_POS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVO_CLOSED_POS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Servo position for closed gate (no container passage) </p>

</div>
</div>
<a id="af052c5ba084bce9e6c97df84a3040e52" name="af052c5ba084bce9e6c97df84a3040e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af052c5ba084bce9e6c97df84a3040e52">&#9670;&#160;</a></span>SERVO_OPEN_POS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SERVO_OPEN_POS&#160;&#160;&#160;90</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Servo position for open gate (container passage allowed) </p>

</div>
</div>
<a id="a047d279cfdae373f08778d8c9b018ba3" name="a047d279cfdae373f08778d8c9b018ba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047d279cfdae373f08778d8c9b018ba3">&#9670;&#160;</a></span>SLEEP_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SLEEP_TIMEOUT&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleep Mode Configuration. </p>
<p>Time in milliseconds of inactivity before entering sleep mode </p>

</div>
</div>
<a id="a13bece8cf2c7eee6e352c09eb7750250" name="a13bece8cf2c7eee6e352c09eb7750250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13bece8cf2c7eee6e352c09eb7750250">&#9670;&#160;</a></span>TOP_SERVO_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOP_SERVO_PIN&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pin for top servo. </p>

</div>
</div>
<a id="a78b24770646e6bf8db0332b3f5fbf728" name="a78b24770646e6bf8db0332b3f5fbf728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b24770646e6bf8db0332b3f5fbf728">&#9670;&#160;</a></span>WAKE_BUTTON_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAKE_BUTTON_PIN&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake Button Configuration. </p>
<p>Pin for dedicated wake button </p>

</div>
</div>
<a id="ac7cbb76e05833efeec05342eb9da05b6" name="ac7cbb76e05833efeec05342eb9da05b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7cbb76e05833efeec05342eb9da05b6">&#9670;&#160;</a></span>WAKE_LED_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAKE_LED_PIN&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LED Indicator Configuration. </p>
<p>Pin for wake indicator LED </p>

</div>
</div>
<a id="ac2f569dc2e07501e71b27c03221751eb" name="ac2f569dc2e07501e71b27c03221751eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f569dc2e07501e71b27c03221751eb">&#9670;&#160;</a></span>WATCHDOG_WAKE_BLINKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WATCHDOG_WAKE_BLINKS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of blinks for watchdog wake. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aac6f63a7fa9017a6b9b68a09a53b4288" name="aac6f63a7fa9017a6b9b68a09a53b4288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac6f63a7fa9017a6b9b68a09a53b4288">&#9670;&#160;</a></span>beep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void beep </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Produce a series of beeps using the buzzer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>Number of beeps to produce </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5ba449d7b59593570a446bbc9f303037" name="a5ba449d7b59593570a446bbc9f303037"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ba449d7b59593570a446bbc9f303037">&#9670;&#160;</a></span>blinkLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void blinkLED </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blink the wake indicator LED. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>Number of times to blink the LED </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5468042fa0f5a7bdc31e736d61c65ebb" name="a5468042fa0f5a7bdc31e736d61c65ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5468042fa0f5a7bdc31e736d61c65ebb">&#9670;&#160;</a></span>checkMedicationDue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkMedicationDue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if any medication is due right now. </p>
<dl class="section return"><dt>Returns</dt><dd>true if medication needs to be dispensed, false otherwise </dd></dl>

</div>
</div>
<a id="a6d0b09dcfee9c8feba9e67249798f16f" name="a6d0b09dcfee9c8feba9e67249798f16f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d0b09dcfee9c8feba9e67249798f16f">&#9670;&#160;</a></span>checkSchedule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void checkSchedule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if any scheduled medications need to be dispensed. </p>
<p>Compares current time with scheduled times and triggers dispensing when a match is found </p>

</div>
</div>
<a id="af2a0be9f4469be92fd42493288a153f0" name="af2a0be9f4469be92fd42493288a153f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a0be9f4469be92fd42493288a153f0">&#9670;&#160;</a></span>dispense()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dispense </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Operate the dispenser mechanism. </p>
<p>Controls the top and bottom servos in sequence to dispense a single medication container </p>

</div>
</div>
<a id="a25d17381f5c6512cc9d37f325987a314" name="a25d17381f5c6512cc9d37f325987a314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d17381f5c6512cc9d37f325987a314">&#9670;&#160;</a></span>displayAllMedications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayAllMedications </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display all active medication schedules. </p>
<p>Loops through all scheduled medications and displays their times </p>

</div>
</div>
<a id="a59c2926dd9b0968badf463aaf4f91422" name="a59c2926dd9b0968badf463aaf4f91422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c2926dd9b0968badf463aaf4f91422">&#9670;&#160;</a></span>displayMenu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayMenu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abc3250bd89a060f536916deda35d86b1" name="abc3250bd89a060f536916deda35d86b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3250bd89a060f536916deda35d86b1">&#9670;&#160;</a></span>displayTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displayTime </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forceUpdate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display current time on LCD. </p>
<p>Shows current time from RTC on the LCD display. Optimized to only update when minute changes unless forced update is requested.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">forceUpdate</td><td>If true, display will update regardless of time change </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa9118fcc53fc3a9ba93842858201533a" name="aa9118fcc53fc3a9ba93842858201533a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9118fcc53fc3a9ba93842858201533a">&#9670;&#160;</a></span>enterSleepMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void enterSleepMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enter low power sleep mode. </p>
<p>Puts the system into power-saving mode after a period of inactivity </p>

</div>
</div>
<a id="a420c0a6e747ea4506e55a4a3e63c71f9" name="a420c0a6e747ea4506e55a4a3e63c71f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420c0a6e747ea4506e55a4a3e63c71f9">&#9670;&#160;</a></span>getTimeToNextMedication()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool getTimeToNextMedication </td>
          <td>(</td>
          <td class="paramtype">DateTime&#160;</td>
          <td class="paramname"><em>now</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>hoursToNext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>minutesToNext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get time remaining until next scheduled medication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>Current time from RTC </td></tr>
    <tr><td class="paramname">hoursToNext</td><td>Reference to variable to store hours until next medication </td></tr>
    <tr><td class="paramname">minutesToNext</td><td>Reference to variable to store minutes until next medication </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is a medication scheduled, false if not </dd></dl>

</div>
</div>
<a id="afea150fcd685610cb9f7672fce361e53" name="afea150fcd685610cb9f7672fce361e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea150fcd685610cb9f7672fce361e53">&#9670;&#160;</a></span>ISR() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">INT0_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Service Routine for external interrupt (button) </p>

</div>
</div>
<a id="a43905d6fb5c4d433a49f527fa6ab811f" name="a43905d6fb5c4d433a49f527fa6ab811f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43905d6fb5c4d433a49f527fa6ab811f">&#9670;&#160;</a></span>ISR() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">WDT_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Service Routine for Watchdog Timer. </p>

</div>
</div>
<a id="ae084e1bc8ccb35ea289ba0ca4972ea6d" name="ae084e1bc8ccb35ea289ba0ca4972ea6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae084e1bc8ccb35ea289ba0ca4972ea6d">&#9670;&#160;</a></span>lcd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LiquidCrystal_I2C lcd </td>
          <td>(</td>
          <td class="paramtype">0x27&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">16&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LCD Display Configuration (I2C) </p>

</div>
</div>
<a id="ab5be68bf7a222e76242b8e56592187cc" name="ab5be68bf7a222e76242b8e56592187cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5be68bf7a222e76242b8e56592187cc">&#9670;&#160;</a></span>loadMedications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadMedications </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load medication schedules from EEPROM. </p>
<p>Reads all medication data from non-volatile memory and initializes with defaults if memory is empty </p>

</div>
</div>
<a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe461d27b9c48d5921c00d521181f12f">&#9670;&#160;</a></span>loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main program loop. </p>
<p>Continuously checks for user input, updates display, checks medication schedules, and handles sleep mode </p>

</div>
</div>
<a id="afae1ab64d3f5458ff89a10e1a2db0018" name="afae1ab64d3f5458ff89a10e1a2db0018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afae1ab64d3f5458ff89a10e1a2db0018">&#9670;&#160;</a></span>resetDailyDispensedFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetDailyDispensedFlags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all dispensed flags. </p>
<p>Called at midnight to reset tracking of which medications have been dispensed today </p>

</div>
</div>
<a id="a7f66e1125ec703c9ba555848c8df1878" name="a7f66e1125ec703c9ba555848c8df1878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f66e1125ec703c9ba555848c8df1878">&#9670;&#160;</a></span>saveMedications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void saveMedications </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save medication schedules to EEPROM. </p>
<p>Writes all medication data to non-volatile memory so settings persist through power cycles </p>

</div>
</div>
<a id="a790c1f21864490f1a42fe5cd690e6766" name="a790c1f21864490f1a42fe5cd690e6766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790c1f21864490f1a42fe5cd690e6766">&#9670;&#160;</a></span>setMedicationTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setMedicationTime </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the time for a specific medication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the medication to set (0-4) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup function runs once at startup. </p>
<p>Initializes all components, displays welcome message, and loads medication schedules from EEPROM </p>

</div>
</div>
<a id="af09f82a6053eb3c6e63abcbe76bc5190" name="af09f82a6053eb3c6e63abcbe76bc5190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09f82a6053eb3c6e63abcbe76bc5190">&#9670;&#160;</a></span>setupMedications()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupMedications </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup medication schedules. </p>
<p>Displays menu for selecting which medication to set up and handles the process of setting each medication </p>

</div>
</div>
<a id="a476ccd62c199f330f95bce19c498e3e9" name="a476ccd62c199f330f95bce19c498e3e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476ccd62c199f330f95bce19c498e3e9">&#9670;&#160;</a></span>setupWatchdog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupWatchdog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup watchdog timer for periodic wakeup. </p>
<p>Configures the watchdog timer to generate an interrupt after ~8 seconds </p>

</div>
</div>
<a id="a65f9c429988be7982fe773a4470061da" name="a65f9c429988be7982fe773a4470061da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f9c429988be7982fe773a4470061da">&#9670;&#160;</a></span>sleep_is_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sleep_is_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the system is currently in sleep mode. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the system is in sleep mode, false otherwise </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a259f5c060b6f3be911cfeb663763aee5" name="a259f5c060b6f3be911cfeb663763aee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a259f5c060b6f3be911cfeb663763aee5">&#9670;&#160;</a></span>bottomServo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Servo bottomServo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bottom servo controls exit of medicine container from holding area. </p>

</div>
</div>
<a id="aaf3b33d5d36aca00f5a0daa68d2a92fd" name="aaf3b33d5d36aca00f5a0daa68d2a92fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3b33d5d36aca00f5a0daa68d2a92fd">&#9670;&#160;</a></span>buttonWakeFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool buttonWakeFlag = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to indicate wake-up has occurred by button press. </p>

</div>
</div>
<a id="aa9fece7b062124080e4b2976f9a8b675" name="aa9fece7b062124080e4b2976f9a8b675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9fece7b062124080e4b2976f9a8b675">&#9670;&#160;</a></span>colPins</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte colPins[<a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a>] = {A0, A1, A2, A3}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino pins connected to keypad columns. </p>

</div>
</div>
<a id="aefd90f1160eaa105bc910d4d7c46b815" name="aefd90f1160eaa105bc910d4d7c46b815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd90f1160eaa105bc910d4d7c46b815">&#9670;&#160;</a></span>COLS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte COLS = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of columns in keypad matrix. </p>

</div>
</div>
<a id="a3857f1cb2743e7097a2971b41bf4eb26" name="a3857f1cb2743e7097a2971b41bf4eb26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3857f1cb2743e7097a2971b41bf4eb26">&#9670;&#160;</a></span>displayMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile byte displayMode = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display mode (0 = setup instructions, 1 = time to next medication) </p>

</div>
</div>
<a id="a8aa10bd2a5ad7c18d5cecf1ad04ef460" name="a8aa10bd2a5ad7c18d5cecf1ad04ef460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aa10bd2a5ad7c18d5cecf1ad04ef460">&#9670;&#160;</a></span>inSetupMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool inSetupMode = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag indicating whether the system is in setup mode. </p>

</div>
</div>
<a id="a7bd4f33aa8f7bc3bea04e90513fd6948" name="a7bd4f33aa8f7bc3bea04e90513fd6948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd4f33aa8f7bc3bea04e90513fd6948">&#9670;&#160;</a></span>inSleepMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool inSleepMode = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to track if the system is in sleep mode. </p>

</div>
</div>
<a id="a0e6c3cc7e8c762ab0ca1fa2296d7bbfe" name="a0e6c3cc7e8c762ab0ca1fa2296d7bbfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6c3cc7e8c762ab0ca1fa2296d7bbfe">&#9670;&#160;</a></span>keypad</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Keypad keypad = Keypad(makeKeymap(<a class="el" href="sketch_8ino.html#a856e873a1d14012d57ddb813c4a1e40a">keys</a>), <a class="el" href="sketch_8ino.html#a6d6753e0ae098b31e2f84d4024e361cf">rowPins</a>, <a class="el" href="sketch_8ino.html#aa9fece7b062124080e4b2976f9a8b675">colPins</a>, <a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a>, <a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keypad object for handling input. </p>

</div>
</div>
<a id="a856e873a1d14012d57ddb813c4a1e40a" name="a856e873a1d14012d57ddb813c4a1e40a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a856e873a1d14012d57ddb813c4a1e40a">&#9670;&#160;</a></span>keys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char keys[<a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a>][<a class="el" href="sketch_8ino.html#aefd90f1160eaa105bc910d4d7c46b815">COLS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  {<span class="charliteral">&#39;1&#39;</span>, <span class="charliteral">&#39;2&#39;</span>, <span class="charliteral">&#39;3&#39;</span>, <span class="charliteral">&#39;A&#39;</span>},</div>
<div class="line">  {<span class="charliteral">&#39;4&#39;</span>, <span class="charliteral">&#39;5&#39;</span>, <span class="charliteral">&#39;6&#39;</span>, <span class="charliteral">&#39;B&#39;</span>},</div>
<div class="line">  {<span class="charliteral">&#39;7&#39;</span>, <span class="charliteral">&#39;8&#39;</span>, <span class="charliteral">&#39;9&#39;</span>, <span class="charliteral">&#39;C&#39;</span>},</div>
<div class="line">  {<span class="charliteral">&#39;*&#39;</span>, <span class="charliteral">&#39;0&#39;</span>, <span class="charliteral">&#39;#&#39;</span>, <span class="charliteral">&#39;D&#39;</span>}</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Key mapping for 4x4 matrix. </p>

</div>
</div>
<a id="a42689e07c5bc087458acc8b891eafad8" name="a42689e07c5bc087458acc8b891eafad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42689e07c5bc087458acc8b891eafad8">&#9670;&#160;</a></span>lastActionTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long lastActionTime = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timestamp of last user action for sleep mode determination. </p>

</div>
</div>
<a id="a92f815b3b274421625dd771250aeb3b9" name="a92f815b3b274421625dd771250aeb3b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f815b3b274421625dd771250aeb3b9">&#9670;&#160;</a></span>lastButtonTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned long lastButtonTime = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last time the button was pressed. </p>

</div>
</div>
<a id="af444ac13552bb50cfb7beebff8ae4f5a" name="af444ac13552bb50cfb7beebff8ae4f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af444ac13552bb50cfb7beebff8ae4f5a">&#9670;&#160;</a></span>lastCheckTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long lastCheckTime = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timestamp of last schedule check. </p>

</div>
</div>
<a id="ac7de7c0f9829e2cf5b48d8dd2f47f73a" name="ac7de7c0f9829e2cf5b48d8dd2f47f73a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7de7c0f9829e2cf5b48d8dd2f47f73a">&#9670;&#160;</a></span>medications</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMedication.html">Medication</a> medications[<a class="el" href="sketch_8ino.html#aaf2a829c86f135f09157709ae25b801d">MAX_MEDICATIONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array of medication schedules. </p>

</div>
</div>
<a id="a6d6753e0ae098b31e2f84d4024e361cf" name="a6d6753e0ae098b31e2f84d4024e361cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6753e0ae098b31e2f84d4024e361cf">&#9670;&#160;</a></span>rowPins</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte rowPins[<a class="el" href="sketch_8ino.html#a829655a147df70dd4cc94eae40a2204e">ROWS</a>] = {5, 4, 3, 7}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arduino pins connected to keypad rows. </p>

</div>
</div>
<a id="a829655a147df70dd4cc94eae40a2204e" name="a829655a147df70dd4cc94eae40a2204e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829655a147df70dd4cc94eae40a2204e">&#9670;&#160;</a></span>ROWS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const byte ROWS = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Keypad Configuration. </p>
<p>Number of rows in keypad matrix </p>

</div>
</div>
<a id="a7715afc6e8732f6f936183f5c0d76167" name="a7715afc6e8732f6f936183f5c0d76167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7715afc6e8732f6f936183f5c0d76167">&#9670;&#160;</a></span>rtc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTC_DS1307 rtc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Real Time Clock Configuration. </p>

</div>
</div>
<a id="a7362d00cefdb43f2ecec5acf10e0b7c3" name="a7362d00cefdb43f2ecec5acf10e0b7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7362d00cefdb43f2ecec5acf10e0b7c3">&#9670;&#160;</a></span>topServo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Servo topServo</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Servo Configuration. </p>
<p>Top servo controls entry of medicine container into holding area </p>

</div>
</div>
<a id="ab8ab3ec4be50a6b44ce907508d46b2b2" name="ab8ab3ec4be50a6b44ce907508d46b2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ab3ec4be50a6b44ce907508d46b2b2">&#9670;&#160;</a></span>watchdogWakeFlag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool watchdogWakeFlag = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag to indicate wake-up has occurred by watchdog timer. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="sketch_8ino.html">sketch.ino</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
